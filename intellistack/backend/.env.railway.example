# IntelliStack Backend - Railway Production Environment Template
# Copy these variables to Railway Dashboard → Backend Service → Variables
# DO NOT commit this file with real values

# ============================================
# Application Settings
# ============================================
ENVIRONMENT=production
DEBUG=false
SECRET_KEY=<generate-with-openssl-rand-base64-32>
ALGORITHM=EdDSA
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ============================================
# Database (Neon PostgreSQL)
# ============================================
DATABASE_URL=<neon-database-url-from-dashboard>

# ============================================
# Redis Cache (Railway Redis)
# ============================================
REDIS_URL=<railway-redis-url>

# ============================================
# Qdrant Vector Database (Railway Qdrant)
# ============================================
QDRANT_HOST=<railway-qdrant-host>
QDRANT_PORT=6333
QDRANT_API_KEY=<qdrant-api-key-if-required>
QDRANT_COLLECTION_NAME=intellistack_content

# ============================================
# AI Services
# ============================================
OPENAI_API_KEY=<real-openai-api-key>
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_EMBEDDING_MODEL=text-embedding-3-small
COHERE_API_KEY=<cohere-api-key-for-reranking>

# ============================================
# Better-Auth Configuration
# ============================================
BETTER_AUTH_SECRET=<generate-with-openssl-rand-base64-32>
BETTER_AUTH_URL=<railway-auth-server-url>
BETTER_AUTH_JWKS_URL=<railway-auth-server-url>/.well-known/jwks.json
BETTER_AUTH_ISSUER=<railway-auth-server-url>
BETTER_AUTH_AUDIENCE=intellistack-api
BETTER_AUTH_TRUST_HOST=true

# ============================================
# Google OAuth
# ============================================
GOOGLE_CLIENT_ID=<google-oauth-client-id>
GOOGLE_CLIENT_SECRET=<google-oauth-client-secret>
GOOGLE_REDIRECT_URI=<railway-auth-server-url>/api/auth/callback/google

# ============================================
# GitHub OAuth (Optional)
# ============================================
GITHUB_CLIENT_ID=<github-oauth-client-id>
GITHUB_CLIENT_SECRET=<github-oauth-client-secret>
GITHUB_REDIRECT_URI=<railway-auth-server-url>/api/auth/callback/github

# ============================================
# CORS Settings
# ============================================
CORS_ORIGINS=<production-content-url>,<production-backend-url>,<production-auth-url>

# ============================================
# Rate Limiting
# ============================================
RATE_LIMIT_AUTH=60
RATE_LIMIT_UNAUTH=10

# ============================================
# ChatKit AI Tutor
# ============================================
CHATKIT_RATE_LIMIT_STUDENT=20
CHATKIT_RATE_LIMIT_INSTRUCTOR=0
CHATKIT_RATE_LIMIT_ADMIN=0

# ============================================
# Logging
# ============================================
LOG_LEVEL=INFO
LOG_FORMAT=json

# ============================================
# Server Configuration (Railway sets PORT automatically)
# ============================================
HOST=0.0.0.0
PORT=$PORT
